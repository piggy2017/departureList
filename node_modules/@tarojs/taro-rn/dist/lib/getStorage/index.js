import AsyncStorage from '@react-native-async-storage/async-storage';
export function getStorage(option) {
    const { key, success, fail, complete } = option;
    const res = { errMsg: 'getStorage:ok' };
    return new Promise((resolve, reject) => {
        AsyncStorage.getItem(key)
            .then((data) => {
            if (data) {
                const result = Object.assign({ data: JSON.parse(data) }, res);
                success === null || success === void 0 ? void 0 : success(result);
                complete === null || complete === void 0 ? void 0 : complete(result);
                resolve(result);
            }
            else {
                res.errMsg = 'getStorage:fail data not found';
                fail === null || fail === void 0 ? void 0 : fail(res);
                complete === null || complete === void 0 ? void 0 : complete(res);
                reject(res);
            }
        }).catch((err) => {
            res.errMsg = err.message;
            fail === null || fail === void 0 ? void 0 : fail(res);
            complete === null || complete === void 0 ? void 0 : complete(res);
            reject(err);
        });
    });
}
//# sourceMappingURL=index.js.map