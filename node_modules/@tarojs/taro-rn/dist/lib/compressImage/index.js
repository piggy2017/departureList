import ImageResizer from 'react-native-image-resizer';
/**
 * 压缩图片
 * @param opts
 */
export function compressImage(opt) {
    const { src, quality = 80, success, fail, complete } = opt;
    const res = { errMsg: 'compressImage:ok', tempFilePath: '' };
    return new Promise((resolve, reject) => {
        return ImageResizer.createResizedImage(src, 800, 800, 'JPEG', quality, 0, '')
            .then((resp) => {
            res.tempFilePath = resp.uri;
            success === null || success === void 0 ? void 0 : success(res);
            complete === null || complete === void 0 ? void 0 : complete(res);
            resolve(res);
        }).catch((err) => {
            res.errMsg = err;
            fail === null || fail === void 0 ? void 0 : fail(res);
            complete === null || complete === void 0 ? void 0 : complete(res);
            reject(err);
        });
    });
}
//# sourceMappingURL=index.js.map